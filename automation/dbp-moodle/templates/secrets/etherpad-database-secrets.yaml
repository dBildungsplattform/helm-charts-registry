{{- if and .Values.dbpMoodle.backup.enabled (.Values.etherpadlite.enabled) }}
apiVersion: v1
kind: Secret
type: Opaque
metadata:
  name: "etherpad-database"
  namespace: "{{ .Release.Namespace }}"
stringData:
  type: "{{ .Values.etherpadlite.externalDatabase.type }}"
  host: "{{ .Values.etherpadlite.externalDatabase.host }}"
  port: "{{ .Values.etherpadlite.externalDatabase.port }}"
  user: "{{ .Values.etherpadlite.externalDatabase.user }}"
  name: "{{ .Values.etherpadlite.externalDatabase.database }}"
{{- end }}